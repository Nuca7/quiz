(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(22),i=n.n(a),s=(n(30),n(14)),o=n(2),u=n(15),l=n(11),j=n(7),b=n(1),d=r.a.createContext();function h(e){var t=e.children,n=["General Knowledge","Science: Computers","Entertainment: Comics","Entertainment: Japanese Anime & Manga","Entertainment: Cartoon & Animations","Entertainment: Television","Art","Animals","Celebrities"],r=["easy","medium","hard"],a=Object(c.useState)({amount:10,category:n[0],difficulty:r[0]}),i=Object(j.a)(a,2),s=i[0],o=i[1];return Object(b.jsx)(d.Provider,{value:{categories:n,difficulty:r,filledForm:s,handleFormChange:function(e){e.preventDefault();var t=e.target,n=t.name,c=t.value;o(Object(l.a)(Object(l.a)({},s),{},Object(u.a)({},n,c)))}},children:t})}function f(){return Object(c.useContext)(d)}var m=function(){var e=Object(o.f)(),t=f(),n=t.categories,c=t.difficulty,r=t.filledForm,a=t.handleFormChange;return Object(b.jsx)("main",{children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push("/quiz/questions")},className:"quiz-form",children:[Object(b.jsx)("h2",{children:"Quiz"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"questionsAmount",children:"Number Of Questions"}),Object(b.jsx)("input",{type:"number",name:"amount",id:"questionsAmount",value:r.amount,onChange:function(e){return a(e)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"category",children:"Category"}),Object(b.jsx)("select",{name:"category",id:"category",value:r.category,onChange:function(e){return a(e)},children:n.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"difficultyLevel",children:"Difficulty"}),Object(b.jsx)("select",{name:"difficulty",id:"difficultyLevel",value:r.difficulty,onChange:function(e){return a(e)},children:c.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]}),Object(b.jsx)("button",{className:"submitBtn",type:"submit",children:"submit"})]})})},p=n(8),O=n.n(p),x=n(13),v=n(25),y=n(20);function g(){return q.apply(this,arguments)}function q(){return(q=Object(x.a)(O.a.mark((function e(){var t,n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentdb.com/api_token.php?command=request",e.next=3,fetch("https://opentdb.com/api_token.php?command=request");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,c=n.token,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(O.a.mark((function e(t){var n,c,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_category.php");case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,r=c.trivia_categories,a=r.filter((function(e){return e.name===t}))[0].id,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){var t=e.question,n=e.correct_answer,r=e.incorrect_answers,a=e.checkAnswer,i=Object(c.useState)([]),s=Object(j.a)(i,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){t&&u(function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var c=Math.floor(Math.random()*(n+1)),r=t[c];t[c]=t[n],t[n]=r}return t}([n].concat(Object(v.a)(r))))}),[t]),t?Object(b.jsxs)("article",{className:"questionContainer",children:[Object(b.jsx)("h2",{className:"question",children:Object(y.decode)(t)}),o.map((function(e,t){return Object(b.jsx)("button",{className:"answers",onClick:function(){return a(e,n)},children:Object(y.decode)(e)},t)}))]}):Object(b.jsx)("h2",{children:"loading..."})};var A=function(e){var t=e.questionsNumber,n=e.correctAnswers,c=Object(o.f)();return Object(b.jsx)("div",{className:"modal-overlay",children:Object(b.jsxs)("div",{className:"modal",children:[Object(b.jsx)("h2",{children:"Finished"}),Object(b.jsxs)("p",{children:["You answered ",n," out of ",t]}),Object(b.jsx)("button",{onClick:function(){c.push("/quiz")},children:"Play Again"})]})})},N="https://opentdb.com/api.php";var F=function(){var e=f().filledForm,t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(j.a)(i,2),o=s[0],u=s[1],d=Object(c.useState)(0),h=Object(j.a)(d,2),m=h[0],p=h[1],v=Object(c.useState)(!1),y=Object(j.a)(v,2),q=y[0],C=y[1];function F(){return(F=Object(x.a)(O.a.mark((function t(){var n,c,r,i,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:return n=t.sent,t.next=5,w(e.category);case 5:return c=t.sent,t.next=8,fetch("".concat(N,"?amount=").concat(e.amount,"&category=").concat(c,"&difficulty=").concat(e.difficulty,"&token=").concat(n));case 8:return r=t.sent,t.next=11,r.json();case 11:i=t.sent,s=i.results,a(s);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){F.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{className:"questionsContainer",children:[Object(b.jsx)("p",{children:"".concat(m," / ").concat(r.length)}),Object(b.jsx)(k,Object(l.a)({checkAnswer:function(e,t){t===e&&p(m+1),function(e){e>=r.length-1?C(!0):u(e+1)}(o)}},r[o])),q&&Object(b.jsx)(A,{questionsNumber:r.length,correctAnswers:m})]})};var S=function(){return Object(b.jsx)(s.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/quiz",children:Object(b.jsx)(m,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/quiz/questions",children:Object(b.jsx)(F,{})})]})})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(h,{children:Object(b.jsx)(S,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.05fbee59.chunk.js.map