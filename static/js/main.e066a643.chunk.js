(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(23),s=n.n(a),i=(n(30),n(15)),u=n(2),o=n(5),j=n.n(o),l=n(14),f=n(17),b=n(13),h=n(9),d=n(8);function p(){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentdb.com/api_token.php?command=request",e.next=3,fetch("https://opentdb.com/api_token.php?command=request");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,c=n.token,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return x.apply(this,arguments)}function x(){return(x=Object(h.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_category.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.trivia_categories,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return n=e.sent,c=n.filter((function(e){return e.name===t}))[0].id,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(1),w=r.a.createContext();function q(e){var t=e.children,n=Object(c.useState)(["Any Category"]),r=Object(d.a)(n,2),a=r[0],s=r[1],i=["Any Difficulty","easy","medium","hard"],u=Object(c.useState)({amount:10,category:a[0],difficulty:i[0]}),o=Object(d.a)(u,2),p=o[0],O=o[1];function x(){return(x=Object(h.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,n=t.map((function(e){return e.name})),s([].concat(Object(l.a)(a),Object(l.a)(n)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]),Object(g.jsx)(w.Provider,{value:{categories:a,difficulty:i,filledForm:p,handleFormChange:function(e){e.preventDefault();var t=e.target,n=t.name,c=t.value;O(Object(b.a)(Object(b.a)({},p),{},Object(f.a)({},n,c)))}},children:t})}function k(){return Object(c.useContext)(w)}var C=function(){var e=Object(u.f)(),t=k(),n=t.categories,c=t.difficulty,r=t.filledForm,a=t.handleFormChange;return Object(g.jsx)("main",{children:Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push("/quiz/questions")},className:"quiz-form",children:[Object(g.jsx)("h2",{children:"Quiz"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"questionsAmount",children:"Number Of Questions"}),Object(g.jsx)("input",{type:"number",name:"amount",id:"questionsAmount",value:r.amount,onChange:function(e){return a(e)}})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"category",children:"Category"}),Object(g.jsx)("select",{name:"category",id:"category",value:r.category,onChange:function(e){return a(e)},children:n.map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"difficultyLevel",children:"Difficulty"}),Object(g.jsx)("select",{name:"difficulty",id:"difficultyLevel",value:r.difficulty,onChange:function(e){return a(e)},children:c.map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))})]}),Object(g.jsx)("button",{className:"submitBtn",type:"submit",children:"submit"})]})})},A=n(21);var N=function(e){var t=e.question,n=e.correct_answer,r=e.incorrect_answers,a=e.checkAnswer,s=Object(c.useState)([]),i=Object(d.a)(s,2),u=i[0],o=i[1];return Object(c.useEffect)((function(){t&&o(function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var c=Math.floor(Math.random()*(n+1)),r=t[c];t[c]=t[n],t[n]=r}return t}([n].concat(Object(l.a)(r))))}),[t]),t?Object(g.jsxs)("article",{className:"questionContainer",children:[Object(g.jsx)("h2",{className:"question",children:Object(A.decode)(t)}),u.map((function(e,t){return Object(g.jsx)("button",{className:"answers",onClick:function(){return a(e,n)},children:Object(A.decode)(e)},t)}))]}):Object(g.jsx)("h2",{children:"loading..."})};var F=function(e){var t=e.questionsNumber,n=e.correctAnswers,c=Object(u.f)();return Object(g.jsx)("div",{className:"modal-overlay",children:Object(g.jsxs)("div",{className:"modal",children:[Object(g.jsx)("h2",{children:"Finished"}),Object(g.jsxs)("p",{children:["You answered ",n," out of ",t]}),Object(g.jsx)("button",{onClick:function(){c.push("/quiz")},children:"Play Again"})]})})},S="https://opentdb.com/api.php";var z=function(){var e=k().filledForm,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(0),i=Object(d.a)(s,2),u=i[0],o=i[1],l=Object(c.useState)(0),f=Object(d.a)(l,2),O=f[0],m=f[1],x=Object(c.useState)(!1),y=Object(d.a)(x,2),w=y[0],q=y[1];function C(){return(C=Object(h.a)(j.a.mark((function t(){var n,c,r,s,i,u,o,l,f,b;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.amount,c=e.category,r=e.difficulty,t.next=3,p();case 3:if(s=t.sent,"Any Category"===c){t.next=9;break}return t.next=7,v(c);case 7:o=t.sent,i="&category=".concat(o);case 9:return"Any Difficulty"!==r&&(u="&difficulty=".concat(r)),t.next=12,fetch("".concat(S,"?amount=").concat(n).concat(i||"").concat(u||"","&token=").concat(s));case 12:return l=t.sent,t.next=15,l.json();case 15:f=t.sent,b=f.results,a(b);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),Object(g.jsxs)("div",{className:"questionsContainer",children:[Object(g.jsx)("p",{children:"".concat(O," / ").concat(r.length)}),Object(g.jsx)(N,Object(b.a)({checkAnswer:function(e,t){t===e&&m(O+1),function(e){e>=r.length-1?q(!0):o(e+1)}(u)}},r[u])),w&&Object(g.jsx)(F,{questionsNumber:r.length,correctAnswers:O})]})};var _=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{exact:!0,path:"/quiz",children:Object(g.jsx)(C,{})}),Object(g.jsx)(u.a,{exact:!0,path:"/quiz/questions",children:Object(g.jsx)(z,{})})]})})};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(q,{children:Object(g.jsx)(_,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e066a643.chunk.js.map