{"version":3,"sources":["Context.js","components/Form.js","helperFunctions.js","components/Question.js","components/Modal.js","components/Questions.js","App.js","index.js"],"names":["MyContext","React","createContext","ContextProvider","children","categories","difficulty","useState","amount","category","filledForm","setFilledForm","Provider","value","handleFormChange","e","preventDefault","target","name","useGlobalContext","useContext","Form","history","useHistory","onSubmit","push","className","htmlFor","type","id","onChange","map","index","difficultyLevel","getSessionToken","a","fetch","response","json","token","getCategoryID","trivia_categories","filter","trivia_category","Question","question","correct_answer","incorrect_answers","checkAnswer","answers","setAnswers","useEffect","originalArray","array","slice","i","length","j","Math","floor","random","temp","shuffle","decode","answer","onClick","Modal","questionsNumber","correctAnswers","url","Questions","questions","setQuestions","currentIndex","setCurrentIndex","setCorrectAnswers","showModal","setShowModal","sessionToken","categoryID","questionsArray","results","fetchData","increaseIndex","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.05fbee59.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\n\r\nconst MyContext = React.createContext();\r\n\r\nfunction ContextProvider({ children }) {\r\n  const categories = [\r\n    \"General Knowledge\",\r\n    \"Science: Computers\",\r\n    \"Entertainment: Comics\",\r\n    \"Entertainment: Japanese Anime & Manga\",\r\n    \"Entertainment: Cartoon & Animations\",\r\n    \"Entertainment: Television\",\r\n    \"Art\",\r\n    \"Animals\",\r\n    \"Celebrities\",\r\n  ];\r\n  const difficulty = [\"easy\", \"medium\", \"hard\"];\r\n  const [filledForm, setFilledForm] = useState({\r\n    amount: 10,\r\n    category: categories[0],\r\n    difficulty: difficulty[0],\r\n  });\r\n\r\n  function handleFormChange(e) {\r\n    e.preventDefault();\r\n    const target = e.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setFilledForm({\r\n      ...filledForm,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <MyContext.Provider\r\n      value={{\r\n        categories,\r\n        difficulty,\r\n        filledForm,\r\n        handleFormChange,\r\n      }}\r\n    >\r\n      {children}\r\n    </MyContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useGlobalContext() {\r\n  return useContext(MyContext);\r\n}\r\n\r\nexport { ContextProvider, useGlobalContext };\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../Context\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Form() {\r\n  const history = useHistory();\r\n  const { categories, difficulty, filledForm, handleFormChange } =\r\n    useGlobalContext();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    history.push(\"/quiz/questions\");\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <form onSubmit={handleSubmit} className=\"quiz-form\">\r\n        <h2>Quiz</h2>\r\n        {/* number of questions */}\r\n        <div>\r\n          <label htmlFor=\"questionsAmount\">Number Of Questions</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount\"\r\n            id=\"questionsAmount\"\r\n            value={filledForm.amount}\r\n            onChange={(e) => handleFormChange(e)}\r\n          />\r\n        </div>\r\n        {/* category */}\r\n        <div>\r\n          <label htmlFor=\"category\">Category</label>\r\n          <select\r\n            name=\"category\"\r\n            id=\"category\"\r\n            value={filledForm.category}\r\n            onChange={(e) => handleFormChange(e)}\r\n          >\r\n            {categories.map((category, index) => {\r\n              // const { id, name } = category;\r\n              return (\r\n                <option key={index} value={category}>\r\n                  {category}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        {/* difficulty */}\r\n        <div>\r\n          <label htmlFor=\"difficultyLevel\">Difficulty</label>\r\n          <select\r\n            name=\"difficulty\"\r\n            id=\"difficultyLevel\"\r\n            value={filledForm.difficulty}\r\n            onChange={(e) => handleFormChange(e)}\r\n          >\r\n            {difficulty.map((difficultyLevel, index) => {\r\n              return (\r\n                <option key={index} value={difficultyLevel}>\r\n                  {difficultyLevel}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n\r\n        <button className=\"submitBtn\" type=\"submit\">\r\n          submit\r\n        </button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","export async function getSessionToken() {\r\n  const sessionTokenRequestUrl =\r\n    \"https://opentdb.com/api_token.php?command=request\";\r\n  const response = await fetch(sessionTokenRequestUrl);\r\n  const { token } = await response.json();\r\n  return token;\r\n}\r\n\r\nexport async function getCategoryID(category) {\r\n  const response = await fetch(\"https://opentdb.com/api_category.php\");\r\n  const { trivia_categories } = await response.json();\r\n  const { id } = trivia_categories.filter(\r\n    (trivia_category) => trivia_category.name === category\r\n  )[0];\r\n  return id;\r\n}\r\n\r\nexport function shuffle(originalArray) {\r\n  // Fisherâ€“Yates shuffle\r\n  let array = originalArray.slice();\r\n  for (let i = array.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    let temp = array[j];\r\n    array[j] = array[i];\r\n    array[i] = temp;\r\n  }\r\n  return array;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { decode } from \"html-entities\";\r\nimport { shuffle } from \"../helperFunctions\";\r\n\r\nfunction Question({\r\n  question,\r\n  correct_answer,\r\n  incorrect_answers,\r\n  checkAnswer,\r\n}) {\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!question) return;\r\n    setAnswers(shuffle([correct_answer, ...incorrect_answers]));\r\n  }, [question]);\r\n\r\n  if (!question) {\r\n    return <h2>loading...</h2>;\r\n  }\r\n\r\n  return (\r\n    <article className=\"questionContainer\">\r\n      <h2 className=\"question\">{decode(question)}</h2>\r\n      {answers.map((answer, index) => {\r\n        return (\r\n          <button\r\n            className=\"answers\"\r\n            key={index}\r\n            onClick={() => checkAnswer(answer, correct_answer)}\r\n          >\r\n            {decode(answer)}\r\n          </button>\r\n        );\r\n      })}\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Question;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Modal({ questionsNumber, correctAnswers }) {\r\n  let history = useHistory();\r\n\r\n  function playAgain() {\r\n    history.push(\"/quiz\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal\">\r\n        <h2>Finished</h2>\r\n        <p>\r\n          You answered {correctAnswers} out of {questionsNumber}\r\n        </p>\r\n        <button onClick={playAgain}>Play Again</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Question from \"./Question\";\r\nimport Modal from \"./Modal\";\r\nimport { getSessionToken } from \"../helperFunctions\";\r\nimport { getCategoryID } from \"../helperFunctions\";\r\nimport { useGlobalContext } from \"../Context\";\r\n\r\nconst url = \"https://opentdb.com/api.php\";\r\n\r\nfunction Questions() {\r\n  const { filledForm } = useGlobalContext();\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [correctAnswers, setCorrectAnswers] = useState(0);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  async function fetchData() {\r\n    const sessionToken = await getSessionToken();\r\n    const categoryID = await getCategoryID(filledForm.category);\r\n    const response = await fetch(\r\n      `${url}?amount=${filledForm.amount}&category=${categoryID}&difficulty=${filledForm.difficulty}&token=${sessionToken}`\r\n    );\r\n    const { results: questionsArray } = await response.json();\r\n    setQuestions(questionsArray);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  function checkAnswer(answer, correct_answer) {\r\n    if (correct_answer === answer) {\r\n      setCorrectAnswers(correctAnswers + 1);\r\n    }\r\n    increaseIndex(currentIndex);\r\n  }\r\n\r\n  function increaseIndex(currentIndex) {\r\n    if (currentIndex >= questions.length - 1) {\r\n      setShowModal(true);\r\n    } else {\r\n      setCurrentIndex(currentIndex + 1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"questionsContainer\">\r\n      <p>{`${correctAnswers} / ${questions.length}`}</p>\r\n      <Question checkAnswer={checkAnswer} {...questions[currentIndex]} />\r\n      {showModal && (\r\n        <Modal\r\n          questionsNumber={questions.length}\r\n          correctAnswers={correctAnswers}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Questions;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Form from \"./components/Form\";\nimport Questions from \"./components/Questions\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/quiz\">\n          <Form />\n        </Route>\n        <Route exact path=\"/quiz/questions\">\n          <Questions />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}