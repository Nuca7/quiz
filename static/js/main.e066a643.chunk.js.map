{"version":3,"sources":["helperFunctions.js","Context.js","components/Form.js","components/Question.js","components/Modal.js","components/Questions.js","App.js","index.js"],"names":["getSessionToken","a","fetch","response","json","token","getCategories","trivia_categories","getCategoryID","category","id","filter","trivia_category","name","MyContext","React","createContext","ContextProvider","children","useState","categories","setCategories","difficulty","amount","filledForm","setFilledForm","categoriesObj","CategoriesNames","map","useEffect","setData","Provider","value","handleFormChange","e","preventDefault","target","useGlobalContext","useContext","Form","history","useHistory","onSubmit","push","className","htmlFor","type","onChange","index","difficultyLevel","Question","question","correct_answer","incorrect_answers","checkAnswer","answers","setAnswers","originalArray","array","slice","i","length","j","Math","floor","random","temp","shuffle","decode","answer","onClick","Modal","questionsNumber","correctAnswers","url","Questions","questions","setQuestions","currentIndex","setCurrentIndex","setCorrectAnswers","showModal","setShowModal","sessionToken","categoryID","categoryURL","difficultyURL","results","fetchData","increaseIndex","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2OAAO,SAAeA,IAAtB,+B,4CAAO,gCAAAC,EAAA,4DAEH,oDAFG,SAGkBC,MADrB,qDAFG,cAGCC,EAHD,gBAImBA,EAASC,OAJ5B,uBAIGC,EAJH,EAIGA,MAJH,kBAKEA,GALF,4C,sBAQA,SAAeC,IAAtB,+B,4CAAO,gCAAAL,EAAA,sEACkBC,MAAM,wCADxB,cACCC,EADD,gBAE+BA,EAASC,OAFxC,uBAEGG,EAFH,EAEGA,kBAFH,kBAGEA,GAHF,4C,sBAMA,SAAeC,EAAtB,kC,4CAAO,WAA6BC,GAA7B,iBAAAR,EAAA,sEAC2BK,IAD3B,cACCC,EADD,OAEGG,EAAOH,EAAkBI,QAC/B,SAACC,GAAD,OAAqBA,EAAgBC,OAASJ,KAC9C,GAFMC,GAFH,kBAKEA,GALF,4C,iCCXDI,EAAYC,IAAMC,gBAExB,SAASC,EAAT,GAAwC,IAAbC,EAAY,EAAZA,SACzB,EAAoCC,mBAAS,CAAC,iBAA9C,mBAAOC,EAAP,KAAmBC,EAAnB,KACMC,EAAa,CAAC,iBAAkB,OAAQ,SAAU,QACxD,EAAoCH,mBAAS,CAC3CI,OAAQ,GACRd,SAAUW,EAAW,GACrBE,WAAYA,EAAW,KAHzB,mBAAOE,EAAP,KAAmBC,EAAnB,KAHqC,4CASrC,8BAAAxB,EAAA,sEAC8BK,IAD9B,OACQoB,EADR,OAEQC,EAAkBD,EAAcE,KAAI,SAACnB,GAAD,OAAcA,EAASI,QACjEQ,EAAc,GAAD,mBAAKD,GAAL,YAAoBO,KAHnC,4CATqC,sBA8BrC,OAfAE,qBAAU,YAf2B,mCAgBnCC,KACC,IAcD,cAAChB,EAAUiB,SAAX,CACEC,MAAO,CACLZ,aACAE,aACAE,aACAS,iBAjBN,SAA0BC,GACxBA,EAAEC,iBACF,IAAMC,EAASF,EAAEE,OACXvB,EAAOuB,EAAOvB,KACdmB,EAAQI,EAAOJ,MACrBP,EAAc,2BACTD,GADQ,kBAEVX,EAAOmB,OAKV,SAQGd,IAKP,SAASmB,IACP,OAAOC,qBAAWxB,GCyBLyB,MAvEf,WACE,IAAMC,EAAUC,cAChB,EACEJ,IADMjB,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,WAAYE,EAAhC,EAAgCA,WAAYS,EAA5C,EAA4CA,iBAQ5C,OACE,+BACE,uBAAMS,SAPV,SAAsBR,GACpBA,EAAEC,iBACFK,EAAQG,KAAK,oBAKmBC,UAAU,YAAxC,UACE,sCAEA,gCACE,uBAAOC,QAAQ,kBAAf,iCACA,uBACEC,KAAK,SACLjC,KAAK,SACLH,GAAG,kBACHsB,MAAOR,EAAWD,OAClBwB,SAAU,SAACb,GAAD,OAAOD,EAAiBC,SAItC,gCACE,uBAAOW,QAAQ,WAAf,sBACA,wBACEhC,KAAK,WACLH,GAAG,WACHsB,MAAOR,EAAWf,SAClBsC,SAAU,SAACb,GAAD,OAAOD,EAAiBC,IAJpC,SAMGd,EAAWQ,KAAI,SAACnB,EAAUuC,GAEzB,OACE,wBAAoBhB,MAAOvB,EAA3B,SACGA,GADUuC,WAQrB,gCACE,uBAAOH,QAAQ,kBAAf,wBACA,wBACEhC,KAAK,aACLH,GAAG,kBACHsB,MAAOR,EAAWF,WAClByB,SAAU,SAACb,GAAD,OAAOD,EAAiBC,IAJpC,SAMGZ,EAAWM,KAAI,SAACqB,EAAiBD,GAChC,OACE,wBAAoBhB,MAAOiB,EAA3B,SACGA,GADUD,WAQrB,wBAAQJ,UAAU,YAAYE,KAAK,SAAnC,0B,QC5BOI,MAnCf,YAKI,IAJFC,EAIC,EAJDA,SACAC,EAGC,EAHDA,eACAC,EAEC,EAFDA,kBACAC,EACC,EADDA,YAEA,EAA8BnC,mBAAS,IAAvC,mBAAOoC,EAAP,KAAgBC,EAAhB,KAOA,OALA3B,qBAAU,WACHsB,GACLK,EHQG,SAAiBC,GAGtB,IADA,IAAIC,EAAQD,EAAcE,QACjBC,EAAIF,EAAMG,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACzC,IAAIE,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IACpCM,EAAOR,EAAMI,GACjBJ,EAAMI,GAAKJ,EAAME,GACjBF,EAAME,GAAKM,EAEb,OAAOR,EGjBMS,CAAQ,CAACf,GAAF,mBAAqBC,QACtC,CAACF,IAECA,EAKH,0BAASP,UAAU,oBAAnB,UACE,oBAAIA,UAAU,WAAd,SAA0BwB,iBAAOjB,KAChCI,EAAQ3B,KAAI,SAACyC,EAAQrB,GACpB,OACE,wBACEJ,UAAU,UAEV0B,QAAS,kBAAMhB,EAAYe,EAAQjB,IAHrC,SAKGgB,iBAAOC,IAHHrB,SAVN,6CCKIuB,MApBf,YAAqD,IAApCC,EAAmC,EAAnCA,gBAAiBC,EAAkB,EAAlBA,eAC5BjC,EAAUC,cAMd,OACE,qBAAKG,UAAU,gBAAf,SACE,sBAAKA,UAAU,QAAf,UACE,0CACA,8CACgB6B,EADhB,WACwCD,KAExC,wBAAQF,QAXd,WACE9B,EAAQG,KAAK,UAUT,8BCVF+B,EAAM,8BAkEGC,MAhEf,WACE,IAAQnD,EAAea,IAAfb,WACR,EAAkCL,mBAAS,IAA3C,mBAAOyD,EAAP,KAAkBC,EAAlB,KACA,EAAwC1D,mBAAS,GAAjD,mBAAO2D,EAAP,KAAqBC,EAArB,KACA,EAA4C5D,mBAAS,GAArD,mBAAOsD,EAAP,KAAuBO,EAAvB,KACA,EAAkC7D,oBAAS,GAA3C,mBAAO8D,EAAP,KAAkBC,EAAlB,KALmB,4CAOnB,8CAAAjF,EAAA,6DACUsB,EAAiCC,EAAjCD,OAAQd,EAAyBe,EAAzBf,SAAUa,EAAeE,EAAfF,WAD5B,SAE6BtB,IAF7B,UAEQmF,EAFR,OAKmB,iBAAb1E,EALN,gCAM6BD,EAAcC,GAN3C,OAMU2E,EANV,OAOIC,EAAW,oBAAgBD,GAP/B,aAUqB,mBAAf9D,IACFgE,EAAa,sBAAkBhE,IAXnC,UAcyBpB,MAAM,GAAD,OACvBwE,EADuB,mBACTnD,GADS,OACA8D,GAAe,IADf,OAExBC,GAAiB,GAFO,kBAGhBH,IAjBd,eAcQhF,EAdR,iBAoB4BA,EAASC,OApBrC,iBAoBUmF,EApBV,EAoBUA,QACRV,EAAaU,GArBf,6CAPmB,sBAkDnB,OAnBA1D,qBAAU,YA/BS,mCAgCjB2D,KACC,IAkBD,sBAAK5C,UAAU,qBAAf,UACE,sCAAO6B,EAAP,cAA2BG,EAAUf,UACrC,cAAC,EAAD,aAAUP,YAlBd,SAAqBe,EAAQjB,GACvBA,IAAmBiB,GACrBW,EAAkBP,EAAiB,GAKvC,SAAuBK,GACjBA,GAAgBF,EAAUf,OAAS,EACrCqB,GAAa,GAEbH,EAAgBD,EAAe,GAPjCW,CAAcX,KAc4BF,EAAUE,KACjDG,GACC,cAAC,EAAD,CACET,gBAAiBI,EAAUf,OAC3BY,eAAgBA,QC9CXiB,MAff,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,QAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,kBAAlB,SACE,cAAC,EAAD,YCPVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC9E,EAAD,UACE,cAAC,EAAD,QAGJ+E,SAASC,eAAe,W","file":"static/js/main.e066a643.chunk.js","sourcesContent":["export async function getSessionToken() {\r\n  const sessionTokenRequestUrl =\r\n    \"https://opentdb.com/api_token.php?command=request\";\r\n  const response = await fetch(sessionTokenRequestUrl);\r\n  const { token } = await response.json();\r\n  return token;\r\n}\r\n\r\nexport async function getCategories() {\r\n  const response = await fetch(\"https://opentdb.com/api_category.php\");\r\n  const { trivia_categories } = await response.json();\r\n  return trivia_categories;\r\n}\r\n\r\nexport async function getCategoryID(category) {\r\n  const trivia_categories = await getCategories();\r\n  const { id } = trivia_categories.filter(\r\n    (trivia_category) => trivia_category.name === category\r\n  )[0];\r\n  return id;\r\n}\r\n\r\nexport function shuffle(originalArray) {\r\n  // Fisherâ€“Yates shuffle\r\n  let array = originalArray.slice();\r\n  for (let i = array.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    let temp = array[j];\r\n    array[j] = array[i];\r\n    array[i] = temp;\r\n  }\r\n  return array;\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { getCategories } from \"./helperFunctions\";\r\n\r\nconst MyContext = React.createContext();\r\n\r\nfunction ContextProvider({ children }) {\r\n  const [categories, setCategories] = useState([\"Any Category\"]);\r\n  const difficulty = [\"Any Difficulty\", \"easy\", \"medium\", \"hard\"];\r\n  const [filledForm, setFilledForm] = useState({\r\n    amount: 10,\r\n    category: categories[0],\r\n    difficulty: difficulty[0],\r\n  });\r\n\r\n  async function setData() {\r\n    const categoriesObj = await getCategories();\r\n    const CategoriesNames = categoriesObj.map((category) => category.name);\r\n    setCategories([...categories, ...CategoriesNames]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setData();\r\n  }, []);\r\n\r\n  function handleFormChange(e) {\r\n    e.preventDefault();\r\n    const target = e.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setFilledForm({\r\n      ...filledForm,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <MyContext.Provider\r\n      value={{\r\n        categories,\r\n        difficulty,\r\n        filledForm,\r\n        handleFormChange,\r\n      }}\r\n    >\r\n      {children}\r\n    </MyContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useGlobalContext() {\r\n  return useContext(MyContext);\r\n}\r\n\r\nexport { ContextProvider, useGlobalContext };\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../Context\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Form() {\r\n  const history = useHistory();\r\n  const { categories, difficulty, filledForm, handleFormChange } =\r\n    useGlobalContext();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    history.push(\"/quiz/questions\");\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <form onSubmit={handleSubmit} className=\"quiz-form\">\r\n        <h2>Quiz</h2>\r\n        {/* number of questions */}\r\n        <div>\r\n          <label htmlFor=\"questionsAmount\">Number Of Questions</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount\"\r\n            id=\"questionsAmount\"\r\n            value={filledForm.amount}\r\n            onChange={(e) => handleFormChange(e)}\r\n          />\r\n        </div>\r\n        {/* category */}\r\n        <div>\r\n          <label htmlFor=\"category\">Category</label>\r\n          <select\r\n            name=\"category\"\r\n            id=\"category\"\r\n            value={filledForm.category}\r\n            onChange={(e) => handleFormChange(e)}\r\n          >\r\n            {categories.map((category, index) => {\r\n              // const { id, name } = category;\r\n              return (\r\n                <option key={index} value={category}>\r\n                  {category}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        {/* difficulty */}\r\n        <div>\r\n          <label htmlFor=\"difficultyLevel\">Difficulty</label>\r\n          <select\r\n            name=\"difficulty\"\r\n            id=\"difficultyLevel\"\r\n            value={filledForm.difficulty}\r\n            onChange={(e) => handleFormChange(e)}\r\n          >\r\n            {difficulty.map((difficultyLevel, index) => {\r\n              return (\r\n                <option key={index} value={difficultyLevel}>\r\n                  {difficultyLevel}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n\r\n        <button className=\"submitBtn\" type=\"submit\">\r\n          submit\r\n        </button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { decode } from \"html-entities\";\r\nimport { shuffle } from \"../helperFunctions\";\r\n\r\nfunction Question({\r\n  question,\r\n  correct_answer,\r\n  incorrect_answers,\r\n  checkAnswer,\r\n}) {\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!question) return;\r\n    setAnswers(shuffle([correct_answer, ...incorrect_answers]));\r\n  }, [question]);\r\n\r\n  if (!question) {\r\n    return <h2>loading...</h2>;\r\n  }\r\n\r\n  return (\r\n    <article className=\"questionContainer\">\r\n      <h2 className=\"question\">{decode(question)}</h2>\r\n      {answers.map((answer, index) => {\r\n        return (\r\n          <button\r\n            className=\"answers\"\r\n            key={index}\r\n            onClick={() => checkAnswer(answer, correct_answer)}\r\n          >\r\n            {decode(answer)}\r\n          </button>\r\n        );\r\n      })}\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Question;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Modal({ questionsNumber, correctAnswers }) {\r\n  let history = useHistory();\r\n\r\n  function playAgain() {\r\n    history.push(\"/quiz\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal\">\r\n        <h2>Finished</h2>\r\n        <p>\r\n          You answered {correctAnswers} out of {questionsNumber}\r\n        </p>\r\n        <button onClick={playAgain}>Play Again</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Question from \"./Question\";\r\nimport Modal from \"./Modal\";\r\nimport { getSessionToken } from \"../helperFunctions\";\r\nimport { getCategoryID } from \"../helperFunctions\";\r\nimport { useGlobalContext } from \"../Context\";\r\n\r\nconst url = \"https://opentdb.com/api.php\";\r\n\r\nfunction Questions() {\r\n  const { filledForm } = useGlobalContext();\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [correctAnswers, setCorrectAnswers] = useState(0);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  async function fetchData() {\r\n    const { amount, category, difficulty } = filledForm;\r\n    const sessionToken = await getSessionToken();\r\n    let categoryURL, difficultyURL;\r\n\r\n    if (category !== \"Any Category\") {\r\n      const categoryID = await getCategoryID(category);\r\n      categoryURL = `&category=${categoryID}`;\r\n    }\r\n\r\n    if (difficulty !== \"Any Difficulty\") {\r\n      difficultyURL = `&difficulty=${difficulty}`;\r\n    }\r\n\r\n    const response = await fetch(\r\n      `${url}?amount=${amount}${categoryURL || \"\"}${\r\n        difficultyURL || \"\"\r\n      }&token=${sessionToken}`\r\n    );\r\n\r\n    const { results } = await response.json();\r\n    setQuestions(results);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  function checkAnswer(answer, correct_answer) {\r\n    if (correct_answer === answer) {\r\n      setCorrectAnswers(correctAnswers + 1);\r\n    }\r\n    increaseIndex(currentIndex);\r\n  }\r\n\r\n  function increaseIndex(currentIndex) {\r\n    if (currentIndex >= questions.length - 1) {\r\n      setShowModal(true);\r\n    } else {\r\n      setCurrentIndex(currentIndex + 1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"questionsContainer\">\r\n      <p>{`${correctAnswers} / ${questions.length}`}</p>\r\n      <Question checkAnswer={checkAnswer} {...questions[currentIndex]} />\r\n      {showModal && (\r\n        <Modal\r\n          questionsNumber={questions.length}\r\n          correctAnswers={correctAnswers}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Questions;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Form from \"./components/Form\";\nimport Questions from \"./components/Questions\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/quiz\">\n          <Form />\n        </Route>\n        <Route exact path=\"/quiz/questions\">\n          <Questions />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}