(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{29:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(21),s=n.n(a),i=(n(29),n(14)),u=n(2),o=n(8),l=n(7),j=n(1),b=r.a.createContext();function f(e){var t=e.children,n=["General Knowledge","Science: Computers","Entertainment: Comics","Entertainment: Japanese Anime & Manga","Entertainment: Cartoon & Animations","Entertainment: Television","Art","Animals","Celebrities"],r=["easy","medium","hard"],a=Object(c.useState)({amountOfQuestions:10,category:n[0],difficultyLevel:r[0]}),s=Object(l.a)(a,2),i=s[0],u=s[1];return Object(j.jsx)(b.Provider,{value:{categories:n,difficulty:r,filledForm:i,setFilledForm:u},children:t})}function d(){return Object(c.useContext)(b)}var h=function(){var e=Object(u.f)(),t=d(),n=t.categories,c=t.difficulty,r=t.filledForm,a=t.setFilledForm;return Object(j.jsx)("main",{children:Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push("/quiz/questions")},className:"quiz-form",children:[Object(j.jsx)("h2",{children:"Quiz"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"questionsNumber",children:"Number Of Questions"}),Object(j.jsx)("input",{type:"number",name:"Number of questions:",id:"questionsNumber",value:r.amountOfQuestions,onChange:function(e){return a(Object(o.a)(Object(o.a)({},r),{},{amountOfQuestions:Number(e.target.value)}))}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"category",children:"Category"}),Object(j.jsx)("select",{name:"category name: ",id:"category",onChange:function(e){return a(Object(o.a)(Object(o.a)({},r),{},{category:e.target.value}))},children:n.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"difficultyLevel",children:"Difficulty"}),Object(j.jsx)("select",{name:"difficulty level: ",id:"difficultyLevel",value:r.difficultyLevel,onChange:function(e){return a(Object(o.a)(Object(o.a)({},r),{},{difficultyLevel:e.target.value}))},children:c.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))})]}),Object(j.jsx)("button",{className:"submitBtn",type:"submit",children:"submit"})]})})},O=n(9),m=n.n(O),p=n(13),x=n(24),v=n(19);function y(){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentdb.com/api_token.php?command=request",e.next=3,fetch("https://opentdb.com/api_token.php?command=request");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,c=n.token,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(m.a.mark((function e(t){var n,c,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_category.php");case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,r=c.trivia_categories,a=r.filter((function(e){return e.name===t}))[0].id,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){var t=e.question,n=e.correct_answer,r=e.incorrect_answers,a=e.checkAnswer,s=Object(c.useState)([]),i=Object(l.a)(s,2),u=i[0],o=i[1];return Object(c.useEffect)((function(){t&&o(function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var c=Math.floor(Math.random()*(n+1)),r=t[c];t[c]=t[n],t[n]=r}return t}([n].concat(Object(x.a)(r))))}),[t]),t?Object(j.jsxs)("article",{className:"questionContainer",children:[Object(j.jsx)("h2",{className:"question",children:Object(v.decode)(t)}),u.map((function(e,t){return Object(j.jsx)("button",{className:"answers",onClick:function(){return a(e,n)},children:Object(v.decode)(e)},t)}))]}):Object(j.jsx)("h2",{children:"loading..."})};var C=function(e){var t=e.questionsNumber,n=e.correctAnswers,c=Object(u.f)();return Object(j.jsx)("div",{className:"modal-overlay",children:Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("h2",{children:"Finished"}),Object(j.jsxs)("p",{children:["You answered ",n," out of ",t]}),Object(j.jsx)("button",{onClick:function(){c.push("/quiz")},children:"Play Again"})]})})},k="https://opentdb.com/api.php";var F=function(){var e=d().filledForm,t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(0),i=Object(l.a)(s,2),u=i[0],b=i[1],f=Object(c.useState)(0),h=Object(l.a)(f,2),O=h[0],x=h[1],v=Object(c.useState)(!1),g=Object(l.a)(v,2),w=g[0],F=g[1];function A(){return(A=Object(p.a)(m.a.mark((function t(){var n,c,r,s,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return n=t.sent,t.next=5,q(e.category);case 5:return c=t.sent,t.next=8,fetch("".concat(k,"?amount=").concat(e.amountOfQuestions,"&category=").concat(c,"&difficulty=").concat(e.difficultyLevel,"&token=").concat(n));case 8:return r=t.sent,t.next=11,r.json();case 11:s=t.sent,i=s.results,a(i);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){A.apply(this,arguments)}()}),[]),Object(j.jsxs)("div",{className:"questionsContainer",children:[Object(j.jsx)("p",{children:"".concat(O," / ").concat(r.length)}),Object(j.jsx)(N,Object(o.a)({checkAnswer:function(e,t){t===e&&x(O+1),function(e){e>=r.length-1?F(!0):b(e+1)}(u)}},r[u])),w&&Object(j.jsx)(C,{questionsNumber:r.length,correctAnswers:O})]})};var A=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/quiz",children:Object(j.jsx)(h,{})}),Object(j.jsx)(u.a,{exact:!0,path:"/quiz/questions",children:Object(j.jsx)(F,{})})]})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(f,{children:Object(j.jsx)(A,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.2a687e28.chunk.js.map